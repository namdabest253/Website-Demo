<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Our Story - Driving Forward</title>
    <meta name="description" content="Learn about Driving Forward's mission to unlock social capital for college students through professional development, mentorship, and career opportunities.">
    
    <!-- Shared Styles -->
    <link rel="stylesheet" href="../static/styles.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>

<body>
    <!-- Navbar and Footer will be loaded by navbar.js -->

    <!-- Enhanced Hero Header -->
    <section class="hero get-involved-hero">
        <div class="container">
            <div class="hero-content fade-in-up">
                <h1>Your Personalized University Toolkit</h1>
                <p class="hero-subtitle">
                    Your University has terrific career resources, but those resources can be challenging to locate. 
                    Your Personalized University Toolkit delivers the roadmap to your school specific resources and links.
                </p>
                <div class="hero-buttons">
                    <a href="#university-toolkit" class="btn-primary">Resource Portal</a>
                    <a href="#career-chatbot" class="btn-primary">Try Career Chatbot</a>
                </div>
            </div>
        </div>
    </section>

    <!-- University Toolkit Section -->
    <section class="university-toolkit-section" id="university-toolkit">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">University Resource Portal</h2>
                <p class="section-subtitle">
                    Access school-specific career resources, guides, and networking opportunities tailored to your university.
                </p>
            </div>
            
            <div class="toolkit-layout">
                <!-- Left Side: University Menu -->
                <div class="university-menu-container">
                    <div class="search-container">
                        <input type="text" id="university-search" placeholder="Search universities..." class="university-search-input">
                        <div class="search-icon">
                            <img src="../images/search.png" alt="Search" class="search-icon-img">
                        </div>
                    </div>
                    
                    <div class="university-list" id="university-list">
                        <!-- Universities will be dynamically loaded here -->
                    </div>
                </div>
                
                <!-- Right Side: University Content -->
                <div class="university-content-container">
                    <!-- Welcome Message -->
                    <div class="university-welcome" id="university-welcome">
                        <div class="welcome-icon"></div>
                        <h3>Select a University</h3>
                        <p>Choose a university from the list to access tailored career resources, networking guides, and resume tips.</p>
                    </div>
                    
                    <!-- University content will be dynamically loaded here -->
                </div>
            </div>
        </div>
    </section>

    <!-- AI Career Chatbot Section -->
    <section class="programs-section" id="career-chatbot">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">AI-Powered Career Guidance</h2>
                <p class="section-subtitle">
                    Our intelligent chatbot uses real school data to provide personalized career advancement 
                    advice and answer your questions about academic and professional pathways.
                </p>
            </div>

            <!-- Chatbot Container -->
            <div class="chatbot-container">
                <div class="chatbot-header">
                    <div class="chatbot-info">
                        <h3>Career Guidance Assistant</h3>
                        <p>Ask questions about career paths, academic programs, and professional development opportunities at your school.</p>
                    </div>
                    <div class="chatbot-status">
                        <span class="status-indicator"></span>
                        <span class="status-text">Online</span>
                    </div>
                </div>
                
                <div class="chatbot-iframe-wrapper">
                    <iframe 
                        src="https://chatbot-demo-trew.onrender.com/" 
                        class="career-chatbot-iframe"
                        title="Career Guidance Chatbot"
                        frameborder="0"
                        loading="lazy">
                    </iframe>
                </div>
                
                <div class="chatbot-footer">
                    <p class="chatbot-disclaimer">
                        ðŸ’¡ <strong>Tip:</strong> Try asking about career paths in your field, internship opportunities, 
                        or what courses can help you reach your career goals.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Shared JavaScript -->
    <script src="../static/navbar.js"></script>
    <script src="../static/university-data.js"></script>
    <script>
        // University Toolkit JavaScript
        document.addEventListener('DOMContentLoaded', function() {
            // Smooth scrolling with custom offset
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href').substring(1);
                    const targetElement = document.getElementById(targetId);
                    
                    if (targetElement) {
                        // Custom scroll offset - adjust this value to control how far down the scroll goes
                        const scrollOffset = 80; // Change this number to adjust scroll position
                        const targetPosition = targetElement.offsetTop - scrollOffset;
                        
                        window.scrollTo({
                            top: targetPosition,
                            behavior: 'smooth'
                        });
                    }
                });
            });

            // Generate university menu and content from data
            generateUniversityMenu();
            loadAllUniversityContent();
            
            // Get dynamically created elements
            const universityItems = document.querySelectorAll('.university-item');
            const universityContents = document.querySelectorAll('.university-content');
            const universityWelcome = document.getElementById('university-welcome');
            const searchInput = document.getElementById('university-search');
            
            // University search functionality
            searchInput.addEventListener('input', function() {
                const searchTerm = this.value.toLowerCase();
                universityItems.forEach(item => {
                    const universityName = item.querySelector('.university-name').textContent.toLowerCase();
                    if (universityName.includes(searchTerm)) {
                        item.style.display = 'flex';
                    } else {
                        item.style.display = 'none';
                    }
                });
            });
            
            // University selection functionality
            universityItems.forEach(item => {
                item.addEventListener('click', function() {
                    const universityId = this.dataset.university;
                    
                    // Remove active class from all items
                    universityItems.forEach(i => i.classList.remove('active'));
                    
                    // Add active class to clicked item
                    this.classList.add('active');
                    
                    // Hide welcome message and all university content
                    universityWelcome.style.display = 'none';
                    universityContents.forEach(content => {
                        content.style.display = 'none';
                    });
                    
                    // Show selected university content
                    const targetContent = document.getElementById(universityId + '-content');
                    if (targetContent) {
                        targetContent.style.display = 'block';
                    }
                });
            });
            
            // Section toggle functionality (allow multiple open, toggle independently)
            document.addEventListener('click', function(e) {
                const toggleEl = e.target.closest('.section-toggle');
                if (!toggleEl) return;
                
                const section = toggleEl.dataset.section;
                const universityContent = toggleEl.closest('.university-content');
                if (!universityContent) return;
                const universityId = universityContent.id.replace('-content', '');
                const targetContent = document.getElementById(universityId + '-' + section);
                
                const isActive = toggleEl.classList.contains('active');
                
                // Toggle only this section
                if (isActive) {
                    toggleEl.classList.remove('active');
                    if (targetContent) targetContent.classList.remove('active');
                } else {
                    toggleEl.classList.add('active');
                    if (targetContent) targetContent.classList.add('active');
                }
            });
        });
    </script>
</body>
</html>
